"use strict";(self["webpackChunkweather"]=self["webpackChunkweather"]||[]).push([[153],{153:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var s=a(252),i=a(577);const r=e=>((0,s.dD)("data-v-2c390c4e"),e=e(),(0,s.Cn)(),e),n={key:1,class:"main"},c={class:"container"},o={class:"city__header"},l=(0,s.Uk)("назад"),d=r((()=>(0,s._)("svg",{width:"14",height:"20",viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M0 2.50004C0 1.83699 0.245833 1.20109 0.683417 0.732245C1.121 0.263396 1.71449 0 2.33333 0L11.6667 0C12.2855 0 12.879 0.263396 13.3166 0.732245C13.7542 1.20109 14 1.83699 14 2.50004V19.3753C13.9999 19.4884 13.9713 19.5993 13.917 19.6963C13.8628 19.7932 13.785 19.8726 13.692 19.926C13.599 19.9794 13.4942 20.0047 13.3888 19.9993C13.2834 19.9939 13.1813 19.958 13.0935 19.8953L7 16.3765L0.9065 19.8953C0.818656 19.958 0.716602 19.9939 0.611207 19.9993C0.505811 20.0047 0.401022 19.9794 0.307999 19.926C0.214977 19.8726 0.137205 19.7932 0.0829664 19.6963C0.028728 19.5993 5.45071e-05 19.4884 0 19.3753V2.50004ZM2.33333 1.25002C2.02391 1.25002 1.72717 1.38172 1.50838 1.61614C1.28958 1.85057 1.16667 2.16851 1.16667 2.50004V18.2078L6.67683 15.1052C6.77257 15.037 6.885 15.0006 7 15.0006C7.115 15.0006 7.22743 15.037 7.32317 15.1052L12.8333 18.2078V2.50004C12.8333 2.16851 12.7104 1.85057 12.4916 1.61614C12.2728 1.38172 11.9761 1.25002 11.6667 1.25002H2.33333Z",fill:"#8A91AB"}),(0,s._)("path",{class:"city__bookmark-transparent",d:"M2.33333 1.25002C2.02391 1.25002 1.72717 1.38172 1.50838 1.61614C1.28958 1.85057 1.16667 2.16851 1.16667 2.50004V18.2078L6.67683 15.1052C6.77257 15.037 6.885 15.0006 7 15.0006C7.115 15.0006 7.22743 15.037 7.32317 15.1052L12.8333 18.2078V2.50004C12.8333 2.16851 12.7104 1.85057 12.4916 1.61614C12.2728 1.38172 11.9761 1.25002 11.6667 1.25002H2.33333Z",fill:"none"})],-1))),u=[d],_={class:"city center"},h={class:"city__name"},g={class:"city__description"},m={class:"city__weather"},p={class:"city__weather-temperature"},w={class:"city__weather-image"},C=["src"],k={class:"city__pressure"},v={class:"city__sunset"};function f(e,t,r,d,f,y){const S=(0,s.up)("the-preloader"),H=(0,s.up)("the-header"),$=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[d.isShow?((0,s.wg)(),(0,s.j4)(S,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(H,{class:"header-mobile"}),d.data?((0,s.wg)(),(0,s.iD)("main",n,[(0,s._)("div",c,[(0,s._)("header",o,[(0,s.Wm)($,{to:"/",class:"city__link"},{default:(0,s.w5)((()=>[l])),_:1}),(0,s._)("div",{class:(0,i.C_)(["city__bookmark",{active:d.isChecked,active:d.isBookmark()}]),onClick:t[0]||(t[0]=(...e)=>d.addBookmark&&d.addBookmark(...e))},u,2)]),(0,s._)("div",_,[(0,s._)("h1",h,(0,i.zw)(d.data.name),1),(0,s._)("div",g,(0,i.zw)(d.data.weather[0].description),1),(0,s._)("div",m,[(0,s._)("div",p,(0,i.zw)(Math.round(d.data.main.temp))+"°",1),(0,s._)("div",w,[(0,s._)("img",{src:a(254)(`./${d.data.weather[0].main.toLowerCase()}.svg`),alt:"weather icon"},null,8,C)])]),(0,s._)("div",k,[(0,s._)("span",null,(0,i.zw)(d.data.main.pressure)+" мм рт. ст. ",1)]),(0,s._)("div",v,"Закат в "+(0,i.zw)(d.getSunsetTime(d.data.sys.sunset)),1)])])])):(0,s.kq)("",!0)],64)}var y=a(262),S=a(119),H=a(715),$=a(186),M={name:"WeatherPage",components:{thePreloader:H.Z,theHeader:$.Z},setup(){const e="be7cfe8bd71367ae1b1667404762867e",t=(0,S.yj)(),a=(0,y.iH)(null),i=(0,y.iH)(!1),r=(0,y.iH)(!0);async function n(){await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t.params.id}&appid=${e}&lang=ru&units=metric`).then((e=>e.json())).then((e=>a.value=e)).then((()=>console.log(a)))}function c(e){const t=new Date(1e3*e);return t.getMinutes()<10&&t.getHours()<10?`0${t.getHours()}:0${t.getMinutes()}`:t.getHours()<10?`0${t.getHours()}:${t.getMinutes()}`:t.getMinutes()<10?`${t.getHours()}:0${t.getMinutes()}`:`${t.getHours()}:${t.getMinutes()}`}function o(){if(i.value=!i.value,i.value){let e=JSON.parse(localStorage.getItem("cities"))||[];0===e.length?e[0]=t.params.id:e.push(t.params.id),localStorage.setItem("cities",JSON.stringify(e))}else{let e=JSON.parse(localStorage.getItem("cities"))||[];e.splice(e.indexOf(t.params.id),1),localStorage.setItem("cities",JSON.stringify(e))}}function l(){let e=JSON.parse(localStorage.getItem("cities"))||[];return-1!==e.indexOf(t.params.id)&&(console.log(e.indexOf(t.params.id)),i.value=!0,!0)}return n(),(0,s.bv)((()=>r.value=!1)),{isShow:r,data:a,getSunsetTime:c,addBookmark:o,isChecked:i,isBookmark:l}}},b=a(744);const L=(0,b.Z)(M,[["render",f],["__scopeId","data-v-2c390c4e"]]);var O=L}}]);
//# sourceMappingURL=153.6da27f05.js.map