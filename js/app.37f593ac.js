(function(){var e={79:function(e,t,r){"use strict";var n=r(963),o=r(252);const i={class:"wrapper"};function a(e,t,r,n,a,s){const c=(0,o.up)("the-header"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(c),(0,o.Wm)(u)])}var s=r(190);const c=e=>((0,o.dD)("data-v-1bb5f36f"),e=e(),(0,o.Cn)(),e),u={class:"header"},l={class:"container"},d={class:"header__inner"},f=c((()=>(0,o._)("img",{src:s,alt:"logo"},null,-1)));function p(e,t,r,n,i,a){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("header",u,[(0,o._)("div",l,[(0,o._)("div",d,[(0,o.Wm)(s,{to:"/"},{default:(0,o.w5)((()=>[f])),_:1})])])])}var h={name:"theHeader"},g=r(744);const v=(0,g.Z)(h,[["render",p],["__scopeId","data-v-1bb5f36f"]]);var m=v,w={components:{theHeader:m}};const y=(0,g.Z)(w,[["render",a]]);var _=y,b=r(119),k=r(619);const x={class:"main"},D={class:"container"},O={class:"search"},C={class:"hints"},j={key:0,class:"search__hint center"},S=(0,o.Uk)(" Начните вводить город, например, "),H=(0,o._)("span",null,"Ижевск",-1),E=[S,H],T={key:0,class:"bookmarks center"},q=(0,o._)("div",{class:"bookmarks__text"}," Используйте значок «закладки», чтобы закрепить город на главной ",-1),N=(0,o._)("img",{src:k,class:"bookmarks__image",alt:"bookmark"},null,-1),A=[q,N],P={key:1,class:"weather__cards"};function L(e,t,r,i,a,s){const c=(0,o.up)("the-preloader"),u=(0,o.up)("router-link"),l=(0,o.up)("the-card");return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.isShow?((0,o.wg)(),(0,o.j4)(c,{key:0})):(0,o.kq)("",!0),(0,o._)("main",x,[(0,o._)("div",D,[(0,o._)("div",O,[(0,o._)("form",{class:"search__form",onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>i.getWeather&&i.getWeather(...e)),["prevent"]))},[(0,o.wy)((0,o._)("input",{type:"text",class:"search__form-input",placeholder:"Укажите город",onInput:t[0]||(t[0]=e=>i.getHint(i.city)),"onUpdate:modelValue":t[1]||(t[1]=e=>i.city=e)},null,544),[[n.nr,i.city]]),(0,o._)("ul",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.hints,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.data.city_kladr_id,class:"hints__item"},[(0,o.Wm)(u,{class:"hints__link",innerHTML:i.calcHint(e.data.city),to:`/city/${e.data.city}`},null,8,["innerHTML","to"])])))),128))])],32),i.citiesData.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",j,E))]),i.citiesData.length?((0,o.wg)(),(0,o.iD)("div",P,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.citiesData,(e=>((0,o.wg)(),(0,o.j4)(l,{key:e.id,city:e.name,temperature:Math.round(e.main.temp),weather:e.weather[0].main.toLowerCase(),path:e.path},null,8,["city","temperature","weather","path"])))),128))])):((0,o.wg)(),(0,o.iD)("div",T,A))])])],64)}var $=r(262),M=r(715),W=r(577);const z={class:"weather__card center"},Z={class:"weather__card-city"},I={class:"weather__card-temperature"},F=["src"];function U(e,t,n,i,a,s){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",z,[(0,o.Wm)(c,{to:n.path,class:"weather__card-link"},{default:(0,o.w5)((()=>[(0,o._)("div",Z,(0,W.zw)(n.city),1),(0,o._)("div",I,(0,W.zw)(n.temperature)+"° ",1),(0,o._)("img",{src:r(254)(`./${n.weather}.svg`),alt:"weather icon",class:"weather__card-image"},null,8,F)])),_:1},8,["to"])])}var B={name:"theCard",props:{city:{type:String,required:!0},temperature:{type:Number,required:!0},weather:{type:String,required:!0},path:{type:String,required:!0}}};const V=(0,g.Z)(B,[["render",U],["__scopeId","data-v-7c7e281d"]]);var K=V,Y={name:"HomeView",components:{thePreloader:M.Z,theCard:K},setup(){const e="be7cfe8bd71367ae1b1667404762867e",t=(0,b.tv)(),r=(0,$.iH)(""),n=JSON.parse(localStorage.getItem("cities"))||[],i=(0,$.iH)([]),a=(0,$.iH)([]),s=(0,$.iH)(!0);async function c(e){const t="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",r="de9895a3eef9762c51e845bcc9c902428a1bcc4b",n={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",bounds:"city",Authorization:"Token "+r},body:JSON.stringify({query:e.toLowerCase(),locations:[{city_type_full:"город"}],locations_boost:[{kladr_id:"1800000100000"}],from_bound:{value:"city"},to_bound:{value:"city"},restrict_value:!1})};await fetch(t,n).then((e=>e.json())).then((e=>{a.value=[],e.suggestions.forEach((e=>{null!==e.data.city&&a.value.push(e)}))})).catch((e=>console.log("error",e)))}async function u(){""!==r.value&&await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${r.value}&appid=${e}&lang=ru`).then((e=>e.json())).then((e=>{"404"!==e.cod&&t.push(`/city/${e.name}`)}))}function l(){n.length&&n.forEach((async t=>{await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${e}&lang=ru&units=metric`).then((e=>e.json())).then((e=>{e.path=`/city/${t}`,i.value.push(e),console.log(e.path)}))}))}function d(e){return`<span>${e.slice(0,r.value.length)}</span>${e.slice(r.value.length)}`}return l(),(0,o.bv)((()=>{s.value=!1})),{city:r,getWeather:u,citiesData:i,getHint:c,hints:a,calcHint:d,isShow:s}}};const J=(0,g.Z)(Y,[["render",L]]);var G=J;const Q=[{path:"/",component:G},{path:"/city/:id",component:()=>r.e(862).then(r.bind(r,862))},{path:"/:pathMatch(.*)*",component:()=>r.e(413).then(r.bind(r,413))}],R=(0,b.p7)({history:(0,b.PO)("/weather/"),routes:Q});var X=R;(0,n.ri)(_).use(X).mount("#app")},715:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(252);const o=e=>((0,n.dD)("data-v-1f66a43e"),e=e(),(0,n.Cn)(),e),i={id:"container"},a=o((()=>(0,n._)("svg",{viewBox:"0 0 100 100"},[(0,n._)("defs",null,[(0,n._)("filter",{id:"shadow"},[(0,n._)("feDropShadow",{dx:"0",dy:"0",stdDeviation:"1.5","flood-color":"#fc6767"})])]),(0,n._)("circle",{id:"spinner",style:{fill:"transparent",stroke:"#fff","stroke-width":"7px","stroke-linecap":"round",filter:"url(#shadow)"},cx:"50",cy:"50",r:"45"})],-1))),s=[a];function c(e,t,r,o,a,c){return(0,n.wg)(),(0,n.iD)("div",i,s)}var u={name:"thePrelaoder"},l=r(744);const d=(0,l.Z)(u,[["render",c],["__scopeId","data-v-1f66a43e"]]);var f=d},254:function(e,t,r){var n={"./Vector.svg":216,"./arrow-left.svg":833,"./bookmark-small.svg":16,"./bookmark.svg":619,"./clear.svg":651,"./clouds.svg":256,"./drizzle.svg":683,"./dust.svg":316,"./logo.svg":190,"./pressure.svg":533,"./rain.svg":336,"./search-arrow.svg":260,"./smoke.svg":419,"./snow.svg":684,"./squall.svg":835,"./thunderstorm.svg":516,"./tornado.svg":104};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=254},216:function(e,t,r){"use strict";e.exports=r.p+"img/Vector.cfc34a6e.svg"},833:function(e,t,r){"use strict";e.exports=r.p+"img/arrow-left.99e747f5.svg"},16:function(e,t,r){"use strict";e.exports=r.p+"img/bookmark-small.db649312.svg"},619:function(e,t,r){"use strict";e.exports=r.p+"img/bookmark.3f75f021.svg"},651:function(e,t,r){"use strict";e.exports=r.p+"img/clear.74e07844.svg"},256:function(e,t,r){"use strict";e.exports=r.p+"img/clouds.30b6fcef.svg"},683:function(e,t,r){"use strict";e.exports=r.p+"img/drizzle.d2af3f63.svg"},316:function(e,t,r){"use strict";e.exports=r.p+"img/dust.667ef009.svg"},190:function(e,t,r){"use strict";e.exports=r.p+"img/logo.37301e7a.svg"},533:function(e,t,r){"use strict";e.exports=r.p+"img/pressure.b405020a.svg"},336:function(e,t,r){"use strict";e.exports=r.p+"img/rain.674d9026.svg"},260:function(e,t,r){"use strict";e.exports=r.p+"img/search-arrow.44b36396.svg"},419:function(e,t,r){"use strict";e.exports=r.p+"img/smoke.4470cb94.svg"},684:function(e,t,r){"use strict";e.exports=r.p+"img/snow.3a2eed6e.svg"},835:function(e,t,r){"use strict";e.exports=r.p+"img/squall.61d6e3ae.svg"},516:function(e,t,r){"use strict";e.exports=r.p+"img/thunderstorm.d922c11e.svg"},104:function(e,t,r){"use strict";e.exports=r.p+"img/tornado.f2273599.svg"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],i=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{413:"d625a7d6",862:"26ad280d"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{413:"26254a13",862:"1046e4f2"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="weather:";r.l=function(n,o,i,a){if(e[n])e[n].push(o);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[o];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/weather/"}(),function(){var e=function(e,t,r,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,o.parentNode.removeChild(o),n(c)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){o=a[n],i=o.getAttribute("data-href");if(i===e||i===t)return o}},n=function(n){return new Promise((function(o,i){var a=r.miniCssF(n),s=r.p+a;if(t(a,s))return o();e(n,s,o,i)}))},o={143:0};r.f.miniCss=function(e,t){var r={413:1,862:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=i);var a=r.p+r.u(t),s=new Error,c=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};r.l(a,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],s=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var l=c(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self["webpackChunkweather"]=self["webpackChunkweather"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(79)}));n=r.O(n)})();
//# sourceMappingURL=app.37f593ac.js.map